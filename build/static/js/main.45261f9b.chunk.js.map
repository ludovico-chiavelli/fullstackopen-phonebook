{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/DeleteButton.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","newObject","post","id","put","delete","Filter","searchTerm","handleSearchChange","value","onChange","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","handleNameChange","handleNumberChange","setMessage","setNotificationColor","onSubmit","event","preventDefault","names","i","length","push","name","includes","window","confirm","personService","then","response","data","find","person","updatedPersonObject","number","console","log","catch","color","setTimeout","concat","type","DeleteButton","handlePersonDeletion","onClick","Persons","newSearch","filter","toLowerCase","map","Notification","message","className","style","App","useState","setNewSearch","notificationColor","useEffect","target","idNumber","personName","res","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45261f9b.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseURL);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseURL, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseURL}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseURL}/${id}`);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\n\nconst Filter = ({ searchTerm, handleSearchChange }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={searchTerm} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport personService from \"../services/persons\"\n\nconst PersonForm = ({\n  persons,\n  setPersons,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  handleNameChange,\n  handleNumberChange,\n  setMessage,\n  setNotificationColor,\n}) => {\n  const addPerson = (event) => {\n    event.preventDefault();\n    let names = [];\n    for (let i = 0; i < persons.length; i++) {\n      names.push(persons[i].name);\n    }\n\n    if (names.includes(newName)) {\n      if(window.confirm(`${newName} is already in the phonebook. Would you like to replace the old number with the new one?`)){\n        personService.getAll()\n        .then(response => {\n          const match = response.data.find(person => person.name === newName)\n          return match\n        })\n        .then(person => {\n          const updatedPersonObject = {\n            name: person.name,\n            number: newNumber,\n          };\n          personService.update(person.id, updatedPersonObject)\n            .then(response => {\n              console.log(response)\n              personService.getAll().then((response) => {\n                setPersons(response.data);\n              });\n          })\n        })\n        .catch(() => {\n          setNotificationColor({color: \"red\"})\n          setMessage(`Information of ${newName} has alredy been removed from the server.\\n${newName} will now be removed from view.`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => {\n            setMessage(null)\n            personService.getAll().then((response) => {\n              setPersons(response.data);\n            });\n          }, 5000)\n        })\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n      .create(personObject)\n      .then(response => {\n          console.log(response)\n          setPersons(persons.concat(response.data));\n          setMessage(`Added ${newName}`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => setMessage(null), 5000)\n      })\n    }\n\n  };\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          phone number:\n          <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\"\n\nconst DeleteButton = ({ \n    handlePersonDeletion, \n    id\n}) => {\n    const handleClick = () => {\n        handlePersonDeletion(id)\n    }\n\n    return (\n        <button onClick={handleClick}>delete</button>\n    )\n}\n\nexport default DeleteButton;","import React from \"react\";\nimport DeleteButton from \"../components/DeleteButton\"\n\nconst Persons = ({ \n  persons, \n  newSearch, \n  handlePersonDeletion, \n  setPersons,\n}) => {\n  return (\n    <div>\n      {persons\n        .filter((person) => {\n          if (newSearch === \"\") {\n            return person;\n          } else if (\n            person.name.toLowerCase().includes(newSearch.toLowerCase())\n          ) {\n            return person;\n          }\n        })\n        .map((person) => (\n          <p key={person.name}>\n            {person.name} {person.number} \n            <DeleteButton \n              handlePersonDeletion={handlePersonDeletion} \n              id={person.id}\n              setPersons={setPersons}\n            />\n          </p>\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\"\n\nconst Notification = ({ message, color }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notification\" style={color}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/persons\"\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [message, setMessage] = useState(null)\n  const [notificationColor, setNotificationColor] = useState({color: 'green'})\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  const handlePersonDeletion = (idNumber) => {\n      const personName = persons.find((person) => person.id === idNumber).name\n      if (window.confirm(`Do you really want to delete ${personName}?`)) {\n        personService.remove(idNumber).then(res => {\n          console.log(res)\n          personService.getAll().then((response) => {\n            console.log(response.data);\n            setPersons(response.data);\n          });\n        })\n        .catch(() => {\n          setNotificationColor({color: \"red\"})\n          setMessage(`Information of ${personName} has alredy been removed from the server. \\n${personName} will now be removed from view.`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => {\n            setMessage(null)\n            personService.getAll().then((response) => {\n              setPersons(response.data);\n            });\n          }, 5000)\n        });\n      }\n    \n  };\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      console.log(response.data);\n      setPersons(response.data);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} color={notificationColor}/>\n      <Filter searchTerm={newSearch} handleSearchChange={handleSearchChange} />\n      <h2>Add a new person</h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        setMessage={setMessage}\n        setNotificationColor={setNotificationColor}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        newSearch={newSearch} \n        handlePersonDeletion={handlePersonDeletion} \n\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}