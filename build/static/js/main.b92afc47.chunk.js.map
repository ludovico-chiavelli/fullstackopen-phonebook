{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/DeleteButton.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseURL","methods","getAll","axios","get","create","newObject","post","update","id","put","remove","delete","Filter","searchTerm","handleSearchChange","value","onChange","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","handleNameChange","handleNumberChange","setMessage","setNotificationColor","onSubmit","event","preventDefault","names","i","length","push","name","includes","window","confirm","personService","then","response","data","find","person","updatedPersonObject","phoneNumber","console","log","catch","color","setTimeout","personObject","concat","error","type","DeleteButton","handlePersonDeletion","onClick","Persons","newSearch","filter","toLowerCase","map","Notification","message","className","style","App","useState","setNewSearch","notificationColor","useEffect","target","idNumber","personName","res","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b92afc47.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseURL = \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseURL);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseURL, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseURL}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseURL}/${id}`);\n};\n\nconst methods = { getAll, create, update, remove };\nexport default methods;\n","import React from \"react\";\n\nconst Filter = ({ searchTerm, handleSearchChange }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={searchTerm} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport personService from \"../services/persons\"\n\nconst PersonForm = ({\n  persons,\n  setPersons,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  handleNameChange,\n  handleNumberChange,\n  setMessage,\n  setNotificationColor,\n}) => {\n  const addPerson = (event) => {\n    event.preventDefault();\n    let names = [];\n    for (let i = 0; i < persons.length; i++) {\n      names.push(persons[i].name);\n    }\n\n    if (names.includes(newName)) {\n      if(window.confirm(`${newName} is already in the phonebook. Would you like to replace the old number with the new one?`)){\n        personService.getAll()\n        .then(response => {\n          const match = response.data.find(person => person.name === newName)\n          return match\n        })\n        .then(person => {\n          const updatedPersonObject = {\n            name: person.name,\n            phoneNumber: newNumber,\n          };\n          personService.update(person.id, updatedPersonObject)\n            .then(response => {\n              console.log(response)\n              personService.getAll().then((response) => {\n                setPersons(response.data);\n              });\n          })\n        })\n        .catch(() => {\n          setNotificationColor({color: \"red\"})\n          setMessage(`Information of ${newName} has alredy been removed from the server.\\n${newName} will now be removed from view.`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => {\n            setMessage(null)\n            personService.getAll().then((response) => {\n              setPersons(response.data);\n            });\n          }, 5000)\n        })\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      const personObject = {\n        name: newName,\n        phoneNumber: newNumber,\n      };\n      personService\n      .create(personObject)\n      .then(response => {\n          console.log(response)\n          setNotificationColor({color: \"green\"})\n          setPersons(persons.concat(response.data));\n          setMessage(`Added ${newName}`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => setMessage(null), 5000)\n      })\n      .catch(error => {\n        setNotificationColor({color: \"red\"})\n        console.log(error)\n        setMessage(`${error.response.data.error}`)\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setMessage(null)\n          personService.getAll().then((response) => {\n            setPersons(response.data);\n          });\n        }, 5000)\n      })\n    }\n\n  };\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          phone number:\n          <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\"\n\nconst DeleteButton = ({ \n    handlePersonDeletion, \n    id\n}) => {\n    const handleClick = () => {\n        handlePersonDeletion(id)\n    }\n\n    return (\n        <button onClick={handleClick}>delete</button>\n    )\n}\n\nexport default DeleteButton;","import React from \"react\";\nimport DeleteButton from \"../components/DeleteButton\"\n\nconst Persons = ({ \n  persons, \n  newSearch, \n  handlePersonDeletion, \n  setPersons,\n}) => {\n  return (\n    <div>\n      {persons\n        .filter((person) => {\n          if (newSearch === \"\") {\n            return person;\n          } else if (person.name.toLowerCase().includes(newSearch.toLowerCase())) {\n            return person;\n          } else {\n            return false\n          }\n        })\n        .map((person) => (\n          <p key={person.name}>\n            {person.name} {person.phoneNumber} \n            <DeleteButton \n              handlePersonDeletion={handlePersonDeletion} \n              id={person.id}\n              setPersons={setPersons}\n            />\n          </p>\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\"\n\nconst Notification = ({ message, color }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notification\" style={color}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/persons\"\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [message, setMessage] = useState(null)\n  const [notificationColor, setNotificationColor] = useState({color: 'green'})\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  const handlePersonDeletion = (idNumber) => {\n      const personName = persons.find((person) => person.id === idNumber).name\n      if (window.confirm(`Do you really want to delete ${personName}?`)) {\n        personService.remove(idNumber).then(res => {\n          console.log(res)\n          personService.getAll().then((response) => {\n            console.log(response.data);\n            setPersons(response.data);\n          });\n        })\n        .catch(() => {\n          setNotificationColor({color: \"red\"})\n          setMessage(`Information of ${personName} has alredy been removed from the server. \\n${personName} will now be removed from view.`)\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => {\n            setMessage(null)\n            personService.getAll().then((response) => {\n              setPersons(response.data);\n            });\n          }, 5000)\n        });\n      }\n    \n  };\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      console.log(response.data);\n      setPersons(response.data);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} color={notificationColor}/>\n      <Filter searchTerm={newSearch} handleSearchChange={handleSearchChange} />\n      <h2>Add a new person</h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        setMessage={setMessage}\n        setNotificationColor={setNotificationColor}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        newSearch={newSearch} \n        handlePersonDeletion={handlePersonDeletion} \n\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}